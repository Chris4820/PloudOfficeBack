{"version":3,"file":"renderTemplate.js","sourceRoot":"/","sources":["commons/email/utils/renderTemplate.ts"],"names":[],"mappings":";;;;;AAKA,kDAQC;AAbD,wDAAgC;AAKhC,SAAgB,mBAAmB,CAAC,YAAoB,EAAE,OAA4B;IACpF,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,MAAM,EAAE,EAAE;QACrC,OAAO,CAAC,GAAG,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;QAChC,kBAAQ,CAAC,MAAM,CAAC,UAAU,YAAY,MAAM,EAAE,OAAO,CAAC,IAAI,EAAE,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE;YAC1E,IAAI,GAAG;gBAAE,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC;YAC5B,OAAO,CAAC,MAAM,CAAC,CAAC;QAClB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC;AACL,CAAC","sourcesContent":["import nunjucks from \"nunjucks\";\r\n\r\n\r\n\r\n\r\nexport function renderEmailTemplate(templateName: string, context: Record<string, any>): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    console.log(\"CONTEXT\", context);\r\n    nunjucks.render(`emails/${templateName}.njk`, context.data, (err, result) => {\r\n      if (err) return reject(err);\r\n      resolve(result);\r\n    });\r\n  });\r\n}\r\n"]}