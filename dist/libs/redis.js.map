{"version":3,"file":"redis.js","sourceRoot":"/","sources":["libs/redis.ts"],"names":[],"mappings":";;;;;AAAA,sDAA4B;AAG5B,MAAM,KAAK,GAAG,IAAI,iBAAK,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,IAAI,wBAAwB,CAAC,CAAC;AAG3E,KAAK,CAAC,EAAE,CAAC,OAAO,EAAE,CAAC,GAAG,EAAE,EAAE,CAAC,OAAO,CAAC,KAAK,CAAC,gBAAgB,EAAE,GAAG,CAAC,CAAC,CAAC;AAEjE,KAAK,UAAU,iBAAiB;IAC9B,IAAI,CAAC;QACH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACtB,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;IAC/C,CAAC;IAAC,OAAO,GAAG,EAAE,CAAC;QACb,OAAO,CAAC,KAAK,CAAC,wBAAwB,EAAE,GAAG,CAAC,CAAC;IAC/C,CAAC;AACH,CAAC;AAED,iBAAiB,EAAE,CAAC;AAEpB,kBAAe,KAAK,CAAC","sourcesContent":["import Redis from \"ioredis\";\r\n\r\n\r\nconst redis = new Redis(process.env.REDIS_URL || 'redis://localhost:6379');\r\n\r\n\r\nredis.on(\"error\", (err) => console.error(\"Erro no Redis:\", err));\r\n\r\nasync function clearCacheOnStart() {\r\n  try {\r\n    await redis.flushdb();\r\n    console.log(\"Cache Redis limpa ao iniciar.\");\r\n  } catch (err) {\r\n    console.error(\"Erro a limpar o Redis:\", err);\r\n  }\r\n}\r\n\r\nclearCacheOnStart();\r\n\r\nexport default redis;"]}